
Vision:
=======
A 3D world to explore and visualise customer data.


Target of current iteration:
============================
Deliver the core functionality and demonstrate developing areas through tech-demo windows.
- Dynamically loading earth - reducing VRAM burden
- 2D selectable elements
- Windows of entity details
- Better 3D model loading and management (consistency).
- Management of linked and unlinked elements.

Functional Goal:
- Tech demo presentation.
- Outline next version of the app - validate tech demos.



App Outline
===========
- 3D Globe - Dynamically loading
    - Demos smooth tile loading, minimum VRAM burden
    - New LOD levels, load textures later.
    - New decimated mesh, geometry saved in database.

- Camera controls
    - World view
    - Chase cam

- Entity Data
    - List entities
    - Show pos/speed
    - Show Element summary

- Control
    - Settings
    - Network
    - CLI


Immeditate Task:
================

- Mesh deep copy
    - editor flip UVs and axis
    - save to a format
    - load format in editor

- Consolidate the mesh editor window:
    - Iterate on the export and import between formats - see how well we can work with Blender and re-import.



Short Term Todo List:
=====================

- Load a child tile
    - Use a simple camera distance measure for now.
    - Look at more texture disposal ideas, get responsiveness on the dealloc.

- Background task:
    - Determine distance to tile
    - determine vertical and horizontal angles the tile presents, and thus an estimated area.
    - determine an angle to the tile based from the camera position and direction.

    - Create a distance-resolution score of draw priority and resolution, that we can judge against. ie (anything above 50, add the child tiles or next LOD)

- Fine tune the camera movement:
    - Slow down at lower altitudes
    - Don't intersect terrain
    - maybe a better forwards control

- Add some element to an entity
    - the 3D model as an element would be ideal (on the attitude node)
    - Route also.
    - Add an xbox controller input as an element.
    - Have a facility to add and remove them

- CLI message inject
    - Exercise the network handling, at least internally.

Tasks:
======

3D Models:
    - Get the loading running again
        - Improve the scaling, maybe in a loader scene with rulers etc.
        - Load dummy elements to check for awkward presentation cases.

Networking:
    - Get a dummy program from KoreSim injecting JSON messages
    - Network config window

- Display entities
    - New scene/window to show loaded entities and basic movement attributes.


Bugs:
=====



Future Ideas:
=============
- OSM Data:
    - https://github.com/OsmSharp/core

- FullMesh:
    - Lots of tools and a whole CAD/Blender like app to manage points, lines, surfaces.
    - AutoUV development:
        - put into a separate project (like the mesh decimation) to progress.
    - Primitives:
        - Some ideas, but plan into a test project in the future.

- Coperniucus:
    - Start reading elevation data from the service in the same way that we read images.

- Add messages to be used at a specific simtime, or runtime?
    - A queue within the messaging system (or consumer of it)
        injectat simtime 10 "entity add one"
        injectat runtume 10 "help"
    - Any "injectat runtime" message goes into a time ordered queue/thread, and process the latest one when a time passes.
    - Use a cencptually simple "greater than" rule on the timestamp.

- UV isolation
    - Find groupd of UVs, from material groups, that can be flipped within their BBox.

Comparable Apps/Frameworks:
===========================
- Google Maps

- Google Earth

- KDE Marble
    https://marble.kde.org/

- Caesium
    Expansive 3D world framework and community

- Global Mapper Desktop
    - Map data preparation tool.





Setup
=====

    dotnet add package SharpGLTF.Toolkit